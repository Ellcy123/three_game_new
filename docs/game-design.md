# 00_项目概述 - 《三兄弟的冒险2》

## 🎮 游戏简介

《三兄弟的冒险2》是一款基于文字交互的角色扮演冒险游戏（TRPG风格）。三名玩家分别扮演猫、狗、乌龟，通过输入关键词组合来探索世界、解开谜题、战胜敌人，最终揭开这个神秘世界的真相。

**游戏主题**：关于宠物死后世界的温情故事，探讨爱与回响的永恒主题。

---

## 👥 角色设定

### 玩家角色

| 角色ID | 动物类型 | 默认名称 | 初始生命值 | 特殊能力 |
|--------|---------|---------|-----------|---------|
| 玩家1 | 猫咪 | 天一 | 8 | 天敌优势（对老鼠伤害+1） |
| 玩家2 | 狗狗 | 二水 | 8 | 标记能力（某些组合有特殊效果） |
| 玩家3 | 乌龟 | 包子 | 8 | 水下探索、防御能力 |

**注意**：玩家可以自定义角色名称。

---

## 🎯 核心玩法机制

### 1. 关键词组合系统

玩家通过输入特定格式的关键词组合来触发游戏事件：

**输入格式**：
- `道具A + 道具B` （如：水潭+行李箱）
- `角色名 + 道具` （如：猫+花瓶、天一+衣柜）

**同义词支持**：
- 角色：猫 = 玩家1 = 天一 = 角色1 = 猫咪
- 系统会自动识别标准化输入

### 2. 回合制系统

- 玩家轮流行动
- 每个回合可以报一次关键词组合
- 需要与主持人对话触发剧情

### 3. 生命值系统

**基础规则**：
- 初始生命值：每人8点
- 生命值可通过特定组合增加或减少
- 生命值归零则角色阵亡

**复活机制**：
- 其他玩家可消耗2点生命值复活阵亡玩家
- 复活后生命值为1点

**特殊保护**：
- 第一关（密室）：生命值最低锁定为1，不会真正死亡
- 后续关卡：可能真正死亡

### 4. 事件系统

**事件类型**：
- ✅ 解锁新区域（如打开小房间）
- ✅ 获得道具/字母
- ✅ 生命值变化
- ✅ 改变角色状态（被困/自由）
- ✅ 触发剧情对话
- ✅ 弹出选择分支

**事件特性**：
- **一次性事件**：触发后不可重复（如获得钥匙）
- **可重复事件**：可多次触发（如查看某个位置）
- **前置条件**：某些事件需要满足特定条件才能触发

---

## 📖 游戏结构

### 剧情框架

```
【序章】三人醒来被困密室
    ↓
【第一幕】密室逃脱
├─ 第一关：密室（解谜）
└─ 第二关：藏匿（躲避追击）
    ↓
【第二幕】回忆过往
└─ YES or NO 问答环节
    ↓
【第三幕】分别修炼
├─ 猫咪个人剧情线（3个分支）
├─ 乌龟个人剧情线（3个分支）
└─ 狗狗个人剧情线（3个分支）
    ↓
【第四幕】最终决战
├─ BOSS 1：鼠鼠大王
├─ BOSS 2：百变小鹦
└─ BOSS 3：死神
    ↓
【结局】多重结局（根据表现触发不同结局）
```

---

## 🗺️ 关卡概览

### 第一幕：密室逃脱

#### 第一关：密室
- **类型**：解谜关卡
- **目标**：救出同伴，收集4个字母（C、E、H、O），输入密码"ECHO"开门
- **特点**：
  - 60+种道具组合
  - 线性通关路径
  - 生命值锁定保护
- **预计时长**：20-30分钟

#### 第二关：藏匿
- **类型**：生存关卡
- **目标**：在8个区域中躲避黑衣人的5次攻击
- **特点**：
  - 随机攻击机制
  - 存活奖励（生命值+3）
- **预计时长**：5-10分钟

---

### 第二幕：过往

#### 记忆回溯
- **类型**：互动问答
- **玩法**：YES or NO 问答系统
- **目标**：
  - 找到三因（三人故事的成因）
  - 找到身份（对应的真实身份）
- **关键信息**：
  - 视角1（乌龟）：自然死亡
  - 视角2（狗狗）：被狗贩子抓走
  - 视角3（猫咪）：被主人安乐死

---

### 第三幕：分别修炼

#### 个人剧情线（每个角色3条分支）

**猫咪线**：
1. 学习功夫 → 成为"功夫猫"
2. 自主创业 → 成为"招财猫"
3. 改造身体 → 成为"机器猫（小铃铛）"

**乌龟线**：
1. 学习功夫 → 成为"忍者龟"
2. 改造身体 → 成为"水炮龟"
3. 自主创业 → 成为"金龟婿"

**狗狗线**：
1. 寻仙问道 → 成为"哮天犬"
2. 第三类接触 → 变形金刚（重型卡车/超级跑车/巨型炮台）

**选择机制**：
- 每条线路有3-4个关键选择点
- 不同选择获得不同技能/道具/生命值加成
- 技能分级：B/A/S/SS/SSS/SSSS/SSSSS

---

### 第四幕：最终决战

#### BOSS 1：鼠鼠大王
- **生命值**：6
- **机制**：选择5个老鼠洞攻击，命中BOSS减生命值
- **出战规则**：单人出战（猫有优势，狗不可出战，龟伤害减半）

#### BOSS 2：百变小鹦
- **生命值**：4
- **机制**：团队默契测试，选择题，答案一致则伤害BOSS
- **出战规则**：全员参与，禁止场外沟通

#### BOSS 3：死神
- **生命值**：0（特殊机制）
- **机制**：赌博系统，15回合内赚取1000+生命值
- **出战规则**：全员参与，使用生命值下注

---

## 🎲 核心数据规则

### 技能等级系统

| 等级 | 说明 | 效果强度 |
|------|------|---------|
| B | 基础 | 生命值+2，或小幅效果提升 |
| A | 进阶 | 生命值+3，或特定场景优势 |
| S | 高级 | 生命值+4，或强力战斗技能 |
| SS | 稀有 | 生命值+6-7，或关键能力 |
| SSS | 史诗 | 生命值+10+，或游戏改变能力 |
| SSSS | 传说 | 极强能力（如任意门） |
| SSSSS | 神话 | 概率翻倍或终极能力 |

### 道具稀有度

- **普通道具**：钥匙、木盒、显示器
- **特殊道具**：红水晶心、跳关卡卡
- **SSS级道具**：时光机、丘比特之箭、灵魂互换手镯
- **SSSS级道具**：任意门

---

## 🏆 结局系统

### 结局触发条件

| 结局ID | 结局名称 | 触发条件 |
|--------|---------|---------|
| 0 | 死于鼠鼠大王 | 第一个BOSS战失败 |
| 1 | 疯人院 | 击败鼠鼠大王，但未挑战死神 |
| 2 | 我也永远爱你 | 挑战死神但失败，触发真实结局 |

### 结局2：我也永远爱你（真结局）

**世界观揭秘**：
- 这是一个由宠物主人的思念形成的"回响空间"
- 密码"ECHO"即"回响"的含义
- 三只动物都已去世，在主人的思念中存续

**情感高潮**：
- 三只动物向主人传达最后的话语
- 猫咪："谢谢你给我快乐的一生，我也永远爱你"
- 狗狗："让你们担心了，早知道我一定乖乖听话"
- 乌龟：（根据玩家体验自由发挥）

---

## 🎨 游戏特色

### 1. 情感叙事
- 温馨的宠物视角
- 感人的主人回忆
- 关于爱与失去的深刻主题

### 2. 高自由度探索
- 60+道具组合（仅第一关）
- 多条剧情分支
- 非线性角色发展

### 3. 团队协作
- 三人配合解谜
- 互相复活机制
- 团队默契挑战

### 4. 深度选择系统
- 每个选择影响后续能力
- 技能搭配策略
- 多重结局

---

## 📊 开发优先级

### Phase 1：核心系统（必须）
1. 关键词解析引擎
2. 事件触发系统
3. 状态管理系统
4. 基础UI（文本显示+输入）

### Phase 2：第一关内容（必须）
1. 密室场景
2. 60+道具组合
3. 密码输入系统
4. 通关判定

### Phase 3：完整剧情（推荐）
1. 第二关（藏匿）
2. 记忆回溯问答
3. 个人剧情线（3条 × 3个角色）
4. BOSS战系统

### Phase 4：优化与润色（可选）
1. 新手引导
2. 卡关提示
3. 存档系统
4. 回放功能

---

## 🔧 技术要求

### 必需功能
- ✅ 文本输入/输出系统
- ✅ 关键词匹配算法
- ✅ 状态持久化（保存/读档）
- ✅ 条件判断系统
- ✅ 随机数生成器（用于BOSS战）

### 推荐功能
- 📝 配置文件驱动（JSON/YAML）
- 🎨 富文本支持（颜色、粗体等）
- 💾 自动存档
- 🔊 音效支持（可选）
- 📊 数据统计（游戏时长、选择统计等）

---

## 📝 开发注意事项

### ⚠️ 设计复杂度警告

1. **道具组合数量庞大**
   - 第一关就有60+种组合
   - 建议使用配置文件而非硬编码
   - 实现通用的组合匹配系统

2. **状态依赖复杂**
   - 许多事件有多重前置条件
   - 需要完善的条件检查逻辑
   - 建议使用状态机模式

3. **分支剧情多样**
   - 3个角色 × 3条线路 × 多个选择点
   - 技能/道具效果需要在BOSS战中正确应用
   - 建议模块化设计每条剧情线

4. **BOSS战机制各异**
   - 三个BOSS完全不同的战斗系统
   - 需要分别实现独立的战斗逻辑
   - 建议使用策略模式

### 💡 开发建议

1. **先实现"最短通关路径"**
   - 用于端到端测试
   - 验证核心系统可行性

2. **使用配置文件**
   - 所有道具组合、事件效果存储为JSON
   - 方便策划修改和扩展
   - 便于测试和调试

3. **模块化架构**
   - 关卡系统独立
   - 战斗系统独立
   - 剧情系统独立
   - 便于团队并行开发

4. **充分测试**
   - 单元测试（关键词解析、条件判断）
   - 集成测试（完整关卡流程）
   - 手动测试（所有分支剧情）

---

## 📚 相关文档

- **详细设计文档**：
  - `level-01.md` - 第一关完整设计
  - `02_关卡_藏匿.md` - 第二关设计
  - `03_人物剧情_猫咪线.md` - 猫咪分支剧情
  - `04_人物剧情_乌龟线.md` - 乌龟分支剧情
  - `05_人物剧情_狗狗线.md` - 狗狗分支剧情
  - `06_BOSS战_规则.md` - 三个BOSS详细机制
  - `07_结局分支.md` - 所有结局剧情

- **技术文档**：
  - `CLAUDE.md` - Claude Code 开发配置
  - `implementation-plan.md` - 实现计划
  - `api-design.md` - API 设计文档

---

## 🎯 目标受众

- **玩家群体**：
  - 喜欢文字冒险游戏的玩家
  - TRPG爱好者
  - 寻求情感共鸣的宠物主人
  - 团队协作游戏爱好者

- **年龄范围**：12岁以上
- **游戏时长**：完整游玩约2-4小时
- **难度**：中等（解谜需要思考，但有提示系统）

---

## 版本信息

- **文档版本**：v1.0
- **创建日期**：2025-10-27
- **适用游戏版本**：《三兄弟的冒险2》完整版
- **文档状态**：已审核

---

**下一步**：阅读 `level-01.md` 了解第一关的详细设计。